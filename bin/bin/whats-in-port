#!/bin/zsh

# List processes running on a provided TCP port
# ðŸ”— Mercifully stolen from https://github.com/thoughtbot/dotfiles/blob/main/bin/whats-in-port
#
# Usage:
# whats-in-port 3000
#
# Example output:
# COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
# ruby    25583   root   11u  IPv4 0xee20607697a79bf7      0t0  TCP *:irdmi (LISTEN)

if [ $# -eq 1 ]; then
  port="$1"
  lsof -ni4TCP:"$port"
else
  echo >&2 "Usage: $0 port-number"
  exit 1
fi
